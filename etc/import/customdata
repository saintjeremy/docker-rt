use strict;
use warnings;

our @Queues = ();
our @Users = ();
our @Groups = ();
our @ACL = { };

# Examples
push @Users, {
    Name         => 'bob',
    EmailAddress => 'bob@example.com',
    Password     => 'password',
    Privileged   => 1,
    Disabled     => 0,
};

push @Users, {
    Name         => 'alice',
    EmailAddress => 'alice@example.com',
    Password     => 'password',
    Privileged   => 1,
    Disabled     => 0,
};

push @Groups, {
    Name        => 'Technicians',
    Description => 'All of the Technicians',
    Members     => {
      Users =>  [ qw/ alice / ],
    },
};

push @Groups, {
    Name        => 'Coordinators',
    Description => 'All of the Coordinators',
    Members     => {
      Users =>  [ qw/ bob / ],
    },
};

push @Queues, {
    Name                => 'Service',
    CorrespondAddress   => 'service@tickets.example.com',
    CommentAddress      => 'service-comment@tickets.example.com',
};

# Allow requestors to show, reply
push @ACL, map {
  {
    Right       => $_,
    GroupDomain => 'RT::System-Role',
    GroupType   => 'Requestor',
  }
} qw(ShowTicket ReplyToTicket);

# Allow everyone to create tickets in all queues.
push @ACL, map {
  {
    Right       => $_,
    GroupDomain => 'SystemInternal',
    Group       => 'Everyone'
  }
} qw(CreateTicket);

push @ACL, map {
  {
    Queue       => 'Service',
    Right       => $_,
    GroupDomain => 'UserDefined',
    GroupId     => 'Coordinators'
  }
} qw(CreateTicket DeleteTicket TakeTicket StealTicket OwnTicket ReplyToTicket SeeQueue ShowTicket ShowTicketComments);

push @ACL, map {
  {
    Queue       => 'Service',
    Right       => $_,
    GroupDomain => 'UserDefined',
    GroupId     => 'Technicians'
  }
} qw(CommentOnTicket ReplyToTicket SeeQueue ShowTicket DeleteTicket ForwardMessage ReassignTicket ModifyTicket OwnTicket StealTicket TakeTicket ShowTicketComments);

1;
